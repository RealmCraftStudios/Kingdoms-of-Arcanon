function doGet(e) {
  var sheetName = e.parameter.sheetName || 'Character Cards';
  var template = HtmlService.createTemplateFromFile('FilterHeaders');
  template.sheetName = sheetName;
  template.searchParams = {};
  return template.evaluate();
}

function doPost(e) {
  var sheetName = e.parameter.sheetName || 'Character Cards';
  var template = HtmlService.createTemplateFromFile('FilterHeaders');
  template.sheetName = sheetName;
  template.searchParams = e.parameters;
  return template.evaluate();
}

function getSheetData(sheetName) {
  var ss = SpreadsheetApp.openByUrl('https://docs.google.com/spreadsheets/d/e/2PACX-1vS2HMrAvELJcPvaJ8-YvDGi5RhH2TdqKt29PiEuPH1c_ZpSeyP87dFPhU1r_s2I87WzphAlkfyuP79x/pubhtml');
  var sheet = ss.getSheetByName(sheetName);
  var dataRange = sheet.getDataRange();
  var data = dataRange.getValues();
  return data;
}

function getUrl() {
  return ScriptApp.getService().getUrl();
}
