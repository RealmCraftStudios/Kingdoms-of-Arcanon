<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kingdoms of Arcanon</title>
    <style>
        /* Existing styles */
    </style>
</head>
<body>
    <div class="splash-screen" id="splash-screen">
        <h1 style="font-size: 36px;"><a href="#" onclick="location.reload();">Kingdoms of Arcanon</a></h1>
        <a href="CharacterCards.html" class="page-link">Character Cards</a>
        <a href="AttackCards.html" class="page-link">Attack Cards</a>
        <a href="DefenseCards.html" class="page-link">Defense Cards</a>
        <a href="ItemCards.html" class="page-link">Item Cards</a>
        <a href="ResourceCards.html" class="page-link">Resource Cards</a>
        <a href="RulerCards.html" class="page-link">Ruler Cards</a>
        <a href="Rulebook.html" class="page-link">Rulebook</a>
        <a href="Story.html" class="page-link">Story</a>
        <div class="audio-player">
            <!-- Existing audio player code -->
        </div>
    </div>
    <div class="main-content" id="main-content">
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const splashScreen = document.getElementById('splash-screen');
            const mainContent = document.getElementById('main-content');
            const pageLinks = document.querySelectorAll('.page-link');
            const audioPlayer = document.getElementById('audio-player');
            const nextButton = document.getElementById('nextButton');
            const prevButton = document.getElementById('prevButton');

            let currentTrackIndex = 0;
            const tracks = [
                "https://raw.githubusercontent.com/RealmCraftStudios/Kingdoms-of-Arcanon/main/WelcometoArcanon.wav",
                "https://raw.githubusercontent.com/RealmCraftStudios/Kingdoms-of-Arcanon/main/CreationofArcanon.wav",
                "https://raw.githubusercontent.com/RealmCraftStudios/Kingdoms-of-Arcanon/main/ComingofDarnkess.wav",
                "https://raw.githubusercontent.com/RealmCraftStudios/Kingdoms-of-Arcanon/main/TheNinePlagues.wav",
                "https://raw.githubusercontent.com/RealmCraftStudios/Kingdoms-of-Arcanon/main/TheDarkTimes.wav",
                "https://raw.githubusercontent.com/RealmCraftStudios/Kingdoms-of-Arcanon/main/GreatWarArcanon.wav"
            ];

            function playCurrentTrack() {
                audioPlayer.src = tracks[currentTrackIndex];
                audioPlayer.play();
            }

            nextButton.addEventListener('click', function() {
                currentTrackIndex = (currentTrackIndex + 1) % tracks.length;
                playCurrentTrack();
            });

            prevButton.addEventListener('click', function() {
                currentTrackIndex = (currentTrackIndex - 1 + tracks.length) % tracks.length;
                playCurrentTrack();
            });

            playCurrentTrack();

            audioPlayer.volume = 0.75;

            function stopBackgroundMusic() {
                audioPlayer.pause();
                audioPlayer.currentTime = 0;
            }

            pageLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const pageUrl = this.getAttribute('href');
                    splashScreen.classList.add('fade-to-black');
                    setTimeout(() => {
                        splashScreen.classList.add('fade-out');
                        mainContent.classList.add('show');
                        stopBackgroundMusic();
                        window.location.href = pageUrl;
                    }, 900);
                });
            });

            const reloadLink = document.querySelector('.page-title a');
            if (reloadLink) {
                reloadLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    stopBackgroundMusic();
                    location.reload();
                });
            }
        });
    </script>
</body>
</html>